# Tutorial for parsing data from atom probe microscopy

## Scope
This example shows how a set of preconfigured components of NOMAD can be used
to concatenate data and metadata from an electronic lab notebook with a
reconstructed and ranged atom probe dataset to obtain a atom-probe-domain-specific
NOMAD entry that follows the NeXus/HDF5 data model and is understood semantically
by NOMAD. Specifically, the example shows how functionalities of a NOMAD electronic
lab notebook (ELN) template instance that is customized for atom probe,
the `pynxtools-apm` plugin of the `pynxtools` NeXus parser, the `NXapm`
NeXus data schema, and several NOMAD core functionalities work together.
The resulting NeXus/HDF5 file offers a standardized representation of an
atom probe measurement or simulation and offers default plots for via
the `H5Web` visualization library.

## Getting started
1. Click the respective button to execute the atom probe example.
2. Wait for NOMAD to instantiate the example for you.
3. Check that you are in the `Uploads` section (menu bar).
4. Select the generated upload.
5. Explore its content by clicking on the arrow keys (to the right-hand side of each entry).

## Which input is supported by this example?
Please consult the [reference section of the pynxtools-apm plugin](https://fairmat-nfdi.github.io/pynxtools-apm/)
to learn which file formats the plugin currently supports.

## Which data artefacts should I expect to find?
This example upload contains the following entries:
- A schema in NOMAD's *archive.yaml* format: *nxapm.schema.archive.yaml*, this is
  an example how a custom ELN template can be configured in NOMAD.
- A schema instance file as used and generated by NOMAD *apm.archive.json*.
  For educational purposes this file is filled with values but it is the
  user's responsibility to check that these metadata match with their dataset.
- Another schema instance file *eln_data.yaml*. This file contains a plain
  view of all entered/modified quantities from the ELN including units.
  This file is updated when one clicks the `save` button.
  This file should not be edited manually. Instead, edit the schema instance
  using the NOMAD GUI.
- Another schema instance file *apm.oasis.specific.yaml*. This file can be
  used to pass metadata that typically do not change for each measurement
  or to pass metadata that are typically not contained in proprietary files
  and not part of the custom ELN.

## Which data schema is used?
The ELN template is configured such that its terminology matches with the [NXapm](https://fairmat-nfdi.github.io/nexus_definitions/classes/contributed_definitions/NXapm.html#nxapm) NeXus application definition.

## Acknowledgements
[This example comes with real world datasets contributed by the international atom probe community.](https://zenodo.org/records/7986279)

## Where to raise questions, comments, and suggestions?
You are very welcome to approach us with all sorts of questions and feature requests.
For atom-probe-domain-specific requests [Markus KÃ¼hbach](https://www.fairmat-nfdi.eu/fairmat/about-fairmat/team-fairmat)
is the respective contact person within FAIRmat. Feel free and [create a GitHub issue](https://github.com/FAIRmat-NFDI/pynxtools-apm) to point us to specific questions, share your experiences with us, or report problems
you faced when using NOMAD.

## Where to go from now?
Please consult the documentation of the domain-specific examples for atom probe
in the NOMAD documentation to learn how you can process your data further using
NOMAD and the Nomad Remote Tools Hub (NORTH).
